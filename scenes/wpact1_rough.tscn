[gd_scene load_steps=10 format=2]

[ext_resource path="res://scripts/env/road_gen.gd" type="Script" id=1]
[ext_resource path="res://assets/models-export/env/canals/basin1.glb" type="PackedScene" id=2]
[ext_resource path="res://characters/sonic.tscn" type="PackedScene" id=3]
[ext_resource path="res://assets/models-export/env/canals/Circle.mesh" type="ArrayMesh" id=4]

[sub_resource type="CubeMesh" id=1]
size = Vector3( 3.5, 0.3, 82 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 1.75, 0.15, 41 )

[sub_resource type="Curve3D" id=3]
_data = {
"points": PoolVector3Array( 15.4297, -1.10519, -25.9508, -15.4297, 1.10519, 25.9508, -50.1235, 26.4581, -76.9282, 0, 0, 0, 0, 0, 0, -52.3878, -10.6613, 3.90573, 0.284424, 0, -6.8261, -0.284424, 0, 6.8261, -53.844, -7.43981, 40.4777, 15.4658, -1.09605, 0.374847, -15.4658, 1.09605, -0.374847, -66.0389, -5.67869, 58.3058 ),
"tilts": PoolRealArray( 0, 0, 0, 0 )
}

[sub_resource type="Curve3D" id=4]
_data = {
"points": PoolVector3Array( 0.177597, -6.2599, 0.24929, -0.177597, 6.2599, -0.24929, 0.132965, -0.0775819, 0.454483, 0.190208, -0.156134, 4.9455, -0.190208, 0.156134, -4.9455, -0.133682, 4.68211, -6.87281, 0.118591, -0.56618, 5.7229, -0.118591, 0.56618, -5.7229, 0.97879, 3.54353, -464.548, 0, 0, 0, 0, 0, 0, 1.0668, -1.06649, -468.375 ),
"tilts": PoolRealArray( 0, 0, 0, 0 )
}

[sub_resource type="Curve3D" id=5]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, 0.259247, -6.09117, -0.475189, 0.389809, -15.3411, 0.0722961, -0.389809, 15.3411, -0.0722961, -1.90067, 248.31, -2.93323, 0, 0, 0, 0, 0, 0, 20.6389, 263.009, -7.30634 ),
"tilts": PoolRealArray( 0, 0, 0 )
}

[node name="water_processing" type="Spatial"]

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 0.999194, 0.0401318, 0, -0.0401318, 0.999194, -76.2828, -40.7745, -351.023 )
mesh = SubResource( 1 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="MeshInstance"]

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance/StaticBody"]
shape = SubResource( 2 )

[node name="Tube_rails" type="CSGCylinder" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -42.5, -706 )
use_collision = true
radius = 79.0
height = 0.5
sides = 32

[node name="Tube_rails2" type="CSGCylinder" parent="Tube_rails"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 100, 0 )
radius = 79.0
height = 0.5
sides = 32

[node name="Tube_rails3" type="CSGCylinder" parent="Tube_rails"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 200, 0 )
radius = 79.0
height = 0.5
sides = 32

[node name="Tube_rails4" type="CSGCylinder" parent="Tube_rails"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 300, 0 )
radius = 79.0
height = 0.5
sides = 32

[node name="CSGCylinder" type="CSGCylinder" parent="Tube_rails"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 151.577, 0 )
operation = 2
radius = 75.0
height = 327.231
sides = 32

[node name="CSGBox2" type="CSGBox" parent="Tube_rails"]
transform = Transform( 0.456651, 0.126477, 0.88061, -0.266919, 0.963719, 0, -0.84866, -0.235051, 0.473842, -66.7265, 299.825, -39.5209 )
operation = 2
width = 14.4317
height = 5.37767
depth = 10.1253

[node name="CSGBox" type="CSGBox" parent="Tube_rails"]
transform = Transform( 0.963719, 0.266919, 0, -0.266919, 0.963719, 0, 0, 0, 1, 0, 141.417, -67.0172 )
operation = 2
width = 28.8839
height = 133.519
depth = 23.837

[node name="CSGBox" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -212, 0 )
use_collision = true
invert_faces = true
width = 200.0
height = 90.0
depth = 700.0

[node name="Upward" type="CSGCylinder" parent="CSGBox"]
transform = Transform( -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, 0, -5, -350 )
invert_faces = true
radius = 40.0
height = 170.0
sides = 32

[node name="CSGBox" type="CSGBox" parent="CSGBox/Upward"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -169.621, -6.25278e-12, 0 )
invert_faces = true
width = 339.217
height = 170.0
depth = 80.0

[node name="Out" type="CSGBox" parent="CSGBox/Upward"]
transform = Transform( -4.37114e-08, -4.37114e-08, -1, -4.37114e-08, 1, -4.37114e-08, 1, 4.37114e-08, -4.37114e-08, -209, 0, -187 )
invert_faces = true
width = 339.217
height = 156.0
depth = 68.4

[node name="Pit" type="CSGBox" parent="CSGBox/Upward/Out"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.7, -105.812 )
invert_faces = true
width = 124.697
height = 145.0
depth = 156.138

[node name="AutoRoad" type="Path" parent="CSGBox/Upward/Out/Pit"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0787964, -0.1028, -0.202621 )
curve = SubResource( 3 )
script = ExtResource( 1 )
stay_vertical = false
template_mesh = ExtResource( 4 )

[node name="CSGCylinder" type="CSGCylinder" parent="CSGBox/Upward/Out"]
transform = Transform( 1, 8.74228e-08, -7.10543e-15, -1.06581e-14, -4.37114e-08, -1, -8.74228e-08, 1, -4.37114e-08, -169, 1.81899e-12, 128 )
invert_faces = true
radius = 78.0
height = 493.428
sides = 64

[node name="AutoRoad3" type="Path" parent="CSGBox/Upward/Out/CSGCylinder"]
transform = Transform( 0.808884, 0.587969, 1.80105e-08, 9.65646e-09, 1.7347e-08, -1, -0.587969, 0.808884, 8.35392e-09, -52.9129, -239.552, -55.73 )
curve = SubResource( 4 )
script = ExtResource( 1 )
stay_vertical = false
template_mesh = ExtResource( 4 )

[node name="CSGCylinder" type="CSGCylinder" parent="CSGBox/Upward/Out/CSGCylinder"]
transform = Transform( -4.37114e-08, 1, -5.32907e-14, -1, -4.37114e-08, 8.74228e-08, 8.74228e-08, -6.03961e-14, 1, -78.9048, 185.438, -4.65665e-06 )
invert_faces = true
radius = 12.0
height = 16.2126
sides = 16

[node name="CSGBox2" type="CSGBox" parent="CSGBox/Upward"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -154.577, -53.0073, 43.3257 )
invert_faces = true
width = 24.4221
height = 60.6956
depth = 18.6688

[node name="CSGBox3" type="CSGBox" parent="CSGBox/Upward"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -190.215, -53.0073, 43.3257 )
invert_faces = true
width = 24.4221
height = 60.6956
depth = 18.6688

[node name="CSGCylinder" type="CSGCylinder" parent="CSGBox/Upward"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -211.004, 89.7965, 0 )
invert_faces = true
radius = 6.01066
height = 13.9641

[node name="basins" type="CSGCylinder" parent="CSGBox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -52.6746, 0 )
invert_faces = true
radius = 40.0
height = 27.1831
sides = 24

[node name="CSGCylinder2" type="CSGCylinder" parent="CSGBox/basins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 93.8217 )
invert_faces = true
radius = 40.0
height = 27.1831
sides = 24

[node name="CSGCylinder3" type="CSGCylinder" parent="CSGBox/basins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 189.296 )
invert_faces = true
radius = 40.0
height = 27.1831
sides = 24

[node name="basin1" parent="CSGBox/basins/CSGCylinder3" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.122747, 7.77646, 99.581 )

[node name="CSGCylinder4" type="CSGCylinder" parent="CSGBox/basins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 288.938 )
invert_faces = true
radius = 40.0
height = 27.1831
sides = 24

[node name="CSGCylinder5" type="CSGCylinder" parent="CSGBox/basins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -94.0488 )
invert_faces = true
radius = 40.0
height = 27.1831
sides = 24

[node name="CSGCylinder6" type="CSGCylinder" parent="CSGBox/basins"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -188.226 )
invert_faces = true
radius = 40.0
height = 27.1831
sides = 24

[node name="CSGBox" type="CSGBox" parent="CSGBox"]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 100, 0, 0 )
operation = 2
invert_faces = true
width = 99.8405
height = 92.5105
depth = 40.0

[node name="CSGBox2" type="CSGBox" parent="CSGBox"]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 98.6792, 0, -100 )
operation = 2
invert_faces = true
width = 99.8405
height = 92.5105
depth = 40.0

[node name="CSGBox3" type="CSGBox" parent="CSGBox"]
transform = Transform( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 100, 0, -200 )
operation = 2
invert_faces = true
width = 99.8405
height = 92.5105
depth = 40.0

[node name="CSGBox4" type="CSGBox" parent="CSGBox"]
transform = Transform( -0.707107, 8.74228e-08, -0.707107, -6.18173e-08, -1, -6.18173e-08, -0.707107, 0, 0.707107, -101.681, 0, 0 )
operation = 2
invert_faces = true
width = 99.8405
height = 92.5105
depth = 40.0

[node name="CSGBox5" type="CSGBox" parent="CSGBox"]
transform = Transform( -0.707107, 8.74228e-08, -0.707107, -6.18173e-08, -1, -6.18173e-08, -0.707107, 0, 0.707107, -100.36, 0, -100 )
operation = 2
invert_faces = true
width = 99.8405
height = 96.936
depth = 40.0

[node name="CSGBox6" type="CSGBox" parent="CSGBox"]
transform = Transform( -0.707107, 8.74228e-08, -0.707107, -6.18173e-08, -1, -6.18173e-08, -0.707107, 0, 0.707107, -101.681, 0, -200 )
operation = 2
invert_faces = true
width = 99.8405
height = 92.5105
depth = 40.0

[node name="AutoRoad" type="Path" parent="CSGBox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 73.5872, -38.852, -353.621 )
curve = SubResource( 5 )
script = ExtResource( 1 )
stay_vertical = false
template_mesh = ExtResource( 4 )

[node name="AutoRoad2" type="Path" parent="CSGBox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 79.4642, -45.0745, 125.241 )
curve = SubResource( 4 )
script = ExtResource( 1 )
stay_vertical = false
template_mesh = ExtResource( 4 )

[node name="sonic" parent="." instance=ExtResource( 3 )]
transform = Transform( -1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, -0.751423, -273.545, 318.425 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.686143, -0.724708, -0.0632966, -0.155697, -0.231289, 0.960346, -0.71061, -0.649079, -0.271532, 0, -252, 0 )
light_energy = 0.56
shadow_enabled = true
